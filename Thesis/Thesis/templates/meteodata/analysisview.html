{% extends 'base.html' %}
{% load static %}
{% block title%}Аномалии{% endblock %}

{% block menu%}
    <div name="menu" class="menu-row">
    <a href="{% url 'meteodata-main' %}" class="{{menu_status.0}}">Просмотр метеоданных</a>
    <a href="{% url 'forecast-main' %}" class="{{menu_status.1}}">Прогнозирование метеоданных</a>
    <a href="{% url 'anomaly-main' %}" class="{{menu_status.2}}">Анализ метеоданных</a>
    </div>
{% endblock menu%}
{% block submenu%}
    <div class="submenu-row">
    <form action="{% url 'anomaly-update' %}" method="post">
        {% csrf_token %}
        <button class="subbutton-{{ submenu_status.2}}">Обновить данные</button>
    </form>
    </div>
{% endblock submenu%}

{% block content%}
<div class="block">
    <form action="{% url 'anomaly-filter' %}" method="post">
        {% csrf_token %}
        <span>Кол-во строк: </span>
        <select name="count" value={{ anomaly_count }}>
            <option value=10>10</option>
            <option value=50>50</option>
            <option value=100>100</option>
        </select> 
        <span>Номер страницы: </span>
        <input type="text" name="page" value={{ anomaly_page }}>
        <span>/{{ anomaly_max_pages }}</span></br>
        <input type="text" name="search" value={{ anomaly_search }}>
        <button width="40px" height="30px" type="submit">Показать</button>
    </form>
</div>

<table class="main-table">
    <tr class="main-table-row">
        
        {% for row in anomaly_top_labels%}
            <td><center>{{ row }}</center></td>
        {% endfor %}
    </tr>

{% for row in anomaly%}
    <tr class="main-table-row">
    <td><center>{{ row.id }}</center></td>
    <td><center>{{ row.meteodata_id }}</center></td>
    <td><center>{{ row.fieldname }}</center></td>
    <td><center>{{ row.value }}</center></td>
    <td><center>{{ row.anomaly }}</center></td>
    </tr>
{% endfor %}
</table>
{% endblock %}